      - name: Debug List of Files Before Second Commit
        run: |
          git ls-files

      - name: Commit and push PDF files to documents branch
        run: |
          git config --local user.name "github-actions[bot]"
          git config --local user.email "41898282+github-actions[bot]@users.noreply.github.com"

          git add .
          git commit -m "Update PDF files [skip ci]"

          # Debug: List files after the second commit
          git ls-files

          git checkout documents
          
          # Remove only the modified PDF files from the documents branch
          for file in ${{ steps.changed-typst-files.outputs.all_changed_files }}; do
            if [[ $file == *".pdf" ]]; then
              git rm "$file"
            fi
          done
          git commit -m "Delete existing documents [skip ci]"
          git push origin documents

          # Check out PDF files from the sources branch
          git checkout sources -- ${{ steps.changed-typst-files.outputs.all_changed_files }}

          # Add, commit, and push changes to the documents branch
          git add .
          git commit -m "Update PDF files [skip ci]"
          git push origin documents
